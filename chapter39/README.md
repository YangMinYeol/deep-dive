# DOM

- DOM은 HTML문서의 계층적 구조와 정보를 표현하며 이를 제어할 수 있는 API, 즉 프로퍼티와 메서드를 제공하는 트리 자료구조다.
- DOM API를 통해 HTML의 구조나 내용 또는 스타일 등을 동적으로 조작할 수 있다.

## 노드

##### HTML 요소와 노드 객체

- HTML 요소는 HTML 문서를 구성하는 개별적인 요소를 의미한다.
- 노드 객체들로 구성된 트리자료구조를 DOM이라 한다.

## 요소 노드 취득

##### id를 이용한 요소 노드 취득

- `getElementById` 메서드를 이용해 취득
- 반드시 문서 노드인 document를 통해 호출해야 한다.
- HTML요소에 id 어트리뷰트를 부여하면 id 값과 동일한 이름의 전역 변수가 암묵적으로 선언되고 해당 노드 객체가 할당되는 부수 효과가 있다.
  > 단, id 값과 동일한 이름의 전역 변수가 이미 선언되어 있으면 이 전역 변수에 노드 객체가 재할당되지 않는다.

##### 태그 이름을 이용한 요소 노드 취득

- `getElementsByTagName` 메서드를 이용해 취득
- HTML 문서의 모든 요소 노드를 취득하려면 메서드의 인수로 `*`을 전달한다.

##### class를 이용한 요소 노드 취득

- `getElementsByClsddName` 메서드를 이용해 취득
- 인수로 전달할 class값은 공백으로 구분하여 어러 개의 class를 지정할 수 있다.

##### CSS 선택자를 이용한 요소 노드 취득

- CSS 선택자는 스타일을 적용하고자 하는 HTML 요소를 특정할 때 사용하는 문법이다.
- `querySelector` 메서드를 이용해 취득
- `querySelectorAll` 메서드는 인수로 전달한 CSS 선택자를 만족시키는 모든 요소 노드를 탐색하여 반환한다.

##### HTMLCollection과 NodeList

- 노드 객체의 상태 변경과 상관없이 안전하게 DOM 컬렉션을 사용하려면 HTMLCollection이나 NodeList 객체를 배열로 변환하여 사용하는 것을 권장한다.

## DOM 조작

- DOM 조작은 새로운 노드를 생성하여 DOM에 추가하거나 기존 노드를 삭제 또는 교체하는 것을 말한다.

##### innerHTML/insertAdjeacentHTML 메서드

- 크로스 사이트 스크립팅 공격에 취약하다.

##### HTML 어트리뷰트/DOM 프로퍼티

- 요소 노드는 2개의 상태, 초기 상태와 최신 상태를 관리해야 한다. 요소 노드의 초기 상태는 어트리뷰트 노드가 관리하며, 요소 노드의 최신 상태는 DOM 프로퍼티가 관리한다.
